# ==========================
# General Settings
# ==========================
unbind r
unbind '"'
unbind %

bind r source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"

bind v split-window -c "#{pane_current_path}"
bind h split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

set -g prefix C-f
set -g prefix2 C-j

# Ensure window titles get renamed automatically.
setw -g automatic-rename

# Ensure window index numbers get reordered on delete.
set-option -g renumber-windows on

# Start windows and panes index at 1, not 0.
set -g base-index 1
setw -g pane-base-index 1 

# ==========================
# Theme / Status Bar Settings
# ==========================
# Color variables converted to direct values for tmux.conf
# BG=#191A28, Primary=#C099FF, Fg=#FFF4D2

# Position and Alignment
set -g status-position bottom
set -g status-justify absolute-centre

# Colors
set -g status-style "bg=#191A28,fg=#FFF4D2"

# Left Side (Session Name)
# Note: I added the length fix here (200)
set -g status-left-length 200
set -g status-left "#[fg=#C099FF,bg=default]#[fg=#FFF4D2,bg=#C099FF] #S #[fg=#C099FF,bg=default]"

# Right Side (Time)
set -g status-right "#[bg=#191A28,fg=#FFF4D2] %H:%M "

# Window Status (Tabs)
set -g window-status-separator ' • '
set -g window-status-format ' #W '

# Current Window Status (Active Tab)
# This includes the logic for the zoomed icon (󰊓)
set -g window-status-current-format "#[bg=#191A28,fg=#C099FF] #W #[fg=#39BAE6,bg=#191A28]#{?window_zoomed_flag,󰊓,}#[fg=#191A28,bg=default]"

# Window Style Fallback
set -g window-status-style "bg=#191A28,fg=#FFF4D2"

# ==========================
# Plugins
# ==========================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'

run '~/.config/tmux/plugins/tpm/tpm'
